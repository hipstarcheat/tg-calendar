<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ì—Ä–∞—Ñ–∏–∫ –∏ –í—ã—Ä—É—á–∫–∞</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: system-ui, sans-serif;
      color: #222;
      padding: 10px;
      margin: 0;
    }

    h2, h3 {
      text-align: center;
    }

    /* ====== –°–¢–†–ê–ù–ò–¶–´ ====== */
    .page {
      display: none;
      padding-bottom: 70px; /* —á—Ç–æ–±—ã –º–µ–Ω—é –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–æ */
      animation: fadeIn 0.25s ease;
    }
    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ====== –ö–ê–õ–ï–ù–î–ê–†–¨ ====== */
    #calendar {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(22px, 1fr)); /* —Å—Ç–∞–ª–æ –º–µ–Ω—å—à–µ */
      grid-auto-rows: minmax(22px, auto);
      gap: 4px;
      margin: 10px auto;
      width: 100%;
      max-width: 340px; /* —á—É—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ */
      box-sizing: border-box;
      justify-items: center;
    }

    .day {
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 5px;
      border: 1px solid #ccc;
      padding: 3px;
      cursor: pointer;
      user-select: none;
      font-size: 12px;
      aspect-ratio: 1 / 1;
      transition: background 0.2s, transform 0.1s;
    }

    .day:hover {
      transform: scale(1.08);
      background: #f0f0f0;
    }

    .blue { background-color: #a6c8ff !important; }
    .green { background-color: #a3f7b5 !important; }
    .red { background-color: #ffb3b3 !important; }
    .yellow { background-color: #fff5a6 !important; }

    #legend {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 10px 0 15px 0;
      font-size: 13px;
    }

    .color {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin-right: 4px;
      border-radius: 2px;
      vertical-align: middle;
    }

    .color.blue { background-color: #a6c8ff; }
    .color.green { background-color: #a3f7b5; }
    .color.red { background-color: #ffb3b3; }
    .color.yellow { background-color: #fff5a6; }

    #message {
      text-align: center;
      margin: 10px 0;
      font-weight: bold;
    }

    #debug {
      font-size: 11px;
      white-space: pre-wrap;
      background: #eee;
      padding: 6px;
      border-radius: 6px;
      margin-top: 10px;
    }

    /* ====== –ö–ù–û–ü–ö–ò ====== */
    button {
      display: block;
      margin: 6px auto;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      background-color: #007aff;
      color: white;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }

    button:hover {
      background-color: #005fd1;
    }

    /* ====== –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ ====== */
    .bottom-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #fff;
      border-top: 1px solid #ccc;
      display: flex;
      justify-content: space-around;
      padding: 8px 0;
      z-index: 100;
    }

    .bottom-bar button {
      background: none;
      border: none;
      font-size: 13px;
      color: #555;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 3px;
    }

    .bottom-bar button.active {
      color: #007aff;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- ====== –í–ö–õ–ê–î–ö–ê: –ì–†–ê–§–ò–ö ====== -->
  <div id="page-grafik" class="page active">
    <h2>–ù–æ—è–±—Ä—å</h2>

    <div id="calendar"></div>

    <div id="legend">
      <div><span class="color blue"></span> –ê—Ä—Ç—É—Ä</div>
      <div><span class="color green"></span> –í–ª–∞–¥</div>
      <div><span class="color red"></span> –£–ø—Ä–∞–≤–ª—è—é—â–∏–π</div>
      <div><span class="color yellow"></span> –ó–∞–º–µ–Ω–∞</div>
    </div>

    <div id="message"></div>
    <div id="debug"></div>
  </div>

  <!-- ====== –í–ö–õ–ê–î–ö–ê: –ú–û–¢–ò–í–ê–¶–ò–Ø ====== -->
  <div id="page-plan" class="page">
    <h2>üìà –ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –ø—Ä–∏—Ä–æ—Å—Ç</h2>
    <div id="subsGrowthContainer">
      <p style="text-align:center; color:#777;">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞—Ö...</p>
    </div>
  </div>


  <!-- ====== –í–ö–õ–ê–î–ö–ê: –ó–ê–î–ê–ß–ò ====== -->
  <div id="page-tasks" class="page">
    <h2>–ó–∞–¥–∞—á–∏</h2>
    <p style="text-align:center; color:#777;">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–∞–¥–∞—á–∏.</p>
  </div>

  <!-- ====== –í–ö–õ–ê–î–ö–ê: –ü–†–ò–ï–ú–ö–ê ====== -->
  <div id="page-acceptance" class="page">
    <h3 style="text-align:center;">–ü—Ä–∏–µ–º–∫–∞</h3>
    <div id="priemkaList"></div>
    <div id="priemkaMessage" style="margin-top:10px; text-align:center; color:green;"></div>
  </div>

  <!-- ====== –í–ö–õ–ê–î–ö–ê: –£–ë–û–†–ö–ê ====== -->
  <div id="page-cleaning" class="page">
    <h2>–£–±–æ—Ä–∫–∞</h2>
    <p style="text-align:center; color:#777;">–û—Ç–º–µ—Ç–∫–∞ —á–∏—Å—Ç–æ—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–æ–Ω.</p>
  </div>

  <!-- ====== –ù–ò–ñ–ù–ò–ô –ë–ê–† ====== -->
  <nav class="bottom-bar">
    <button class="active" data-page="page-grafik">üìÖ<span>–ì—Ä–∞—Ñ–∏–∫</span></button>
    <button data-page="page-plan">üéØ<span>–ü–ª–∞–Ω</span></button>
    <button data-page="page-tasks">üìù<span>–ó–∞–¥–∞—á–∏</span></button>
    <button data-page="page-acceptance">üì¶<span>–ü—Ä–∏–µ–º–∫–∞</span></button>
    <button data-page="page-cleaning">üßπ<span>–£–±–æ—Ä–∫–∞</span></button>
  </nav>

  <script src="script.js"></script>

  <script>
    // ===== –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ =====
    document.querySelectorAll('.bottom-bar button').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.bottom-bar button').forEach(b => b.classList.remove('active'));

        const pageId = btn.getAttribute('data-page');
        document.getElementById(pageId).classList.add('active');
        btn.classList.add('active');
      });
    });
  </script>

</body>
</html>
